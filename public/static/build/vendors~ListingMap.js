(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{"V/W6":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.lngX=function lngX(t){return t/360+.5},n.latY=function latY(t){var n=Math.sin(t*Math.PI/180),e=.5-.25*Math.log((1+n)/(1-n))/Math.PI;return e<0?0:e>1?1:e},n.screenDist2LatLngDist=function screenDist2LatLngDist(t,n){return 360*(t/Math.pow(2,n)/256)}},cE5u:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(e("tV43"));var i=function toBBox(t){return[t.x,t.y,t.x,t.y]},o=function compareMinX(t,n){return t.x-n.x},a=function compareMinY(t,n){return t.y-n.y};n.default=function(t){var n=(0,r.default)(t);return n.toBBox=i,n.compareMinX=o,n.compareMinY=a,n}},mPD7:function(t,n,e){"use strict";var _slicedToArray=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(n,"__esModule",{value:!0});var i=_interopRequireDefault(e("QLaP")),o=e("V/W6"),a=_interopRequireDefault(e("cE5u"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var s=function createCluster(t,n,e){return{x:t,y:n,wx:t,wy:n,zoom:1/0,points:e,numPoints:e.length}};function distSq(t,n){var e=t.wx-n.wx,r=t.wy-n.wy;return e*e+r*r}function SuperCluster(t){this.options=r({},this.options,t),this._initTrees()}SuperCluster.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:16},load:function load(t){for(var n=t.map((function(t){var n=function _objectWithoutProperties(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}(t,[]),e=t.lat,r=t.lng;return s(r,e,[n])})),e=this.options.maxZoom;e>=this.options.minZoom;e--)this.trees[e+1].load(n),n=this._cluster(n,e);return this.trees[this.options.minZoom].load(n),this},getClusters:function getClusters(t,n){var e=this,r=_slicedToArray(t,4),i=r[0],o=r[1],a=r[2],s=r[3],h=Math.max(this.options.minZoom,Math.min(n,this.options.maxZoom+1));return(i<a?[t]:[[i,o,180,s],[-180,o,a,s]]).map((function(t){return e.trees[h].search(t)})).reduce((function(t,n){return[].concat(_toConsumableArray(t),_toConsumableArray(n))}),[])},_initTrees:function _initTrees(){this.trees=[];for(var t=0;t<=this.options.maxZoom+1;t++)this.trees[t]=(0,a.default)(this.options.nodeSize)},_cluster:function _cluster(t,n){for(var e=[],r=(0,o.screenDist2LatLngDist)(this.options.radius,n),a=[0,0,0,0],h=0;h<t.length;h++){var u=t[h],l=u.points;if(!(u.zoom<=n)){u.zoom=n,a[0]=u.wx-r,a[1]=u.wy-r,a[2]=u.wx+r,a[3]=u.wy+r;for(var c=this.trees[n+1].search(a),f=!1,d=u.numPoints,p=u.wx*d,x=u.wy*d,b=0;b<c.length;b++){var m=c[b];n<m.zoom&&distSq(u,m)<=r*r&&(f=!0,m.zoom=n,p+=m.wx*m.numPoints,x+=m.wy*m.numPoints,d+=m.numPoints,l=[].concat(_toConsumableArray(l),_toConsumableArray(m.points)))}if(f){var M=s(u.x,u.y,l);(0,i.default)(l.length===d,"clusterPoints.length === numPoints"),M.wx=p/d,M.wy=x/d,e.push(M)}else e.push(u)}}return e}};n.default=function supercluster(t,n){var e=new SuperCluster(n);return e.load(t),function(t){var n=t.bounds,r=n.nw,i=n.se,o=t.zoom;return e.getClusters([r.lng,i.lat,i.lng,r.lat],o)}}},tV43:function(t,n,e){var r;!function(){"use strict";function rbush(t,n){if(!(this instanceof rbush))return new rbush(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function calcBBox(t,n){t.bbox=distBBox(t,0,t.children.length,n)}function distBBox(t,n,e,r){for(var i,o=empty(),a=n;a<e;a++)i=t.children[a],extend(o,t.leaf?r(i):i.bbox);return o}function empty(){return[1/0,1/0,-1/0,-1/0]}function extend(t,n){return t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[2]=Math.max(t[2],n[2]),t[3]=Math.max(t[3],n[3]),t}function compareNodeMinX(t,n){return t.bbox[0]-n.bbox[0]}function compareNodeMinY(t,n){return t.bbox[1]-n.bbox[1]}function bboxArea(t){return(t[2]-t[0])*(t[3]-t[1])}function bboxMargin(t){return t[2]-t[0]+(t[3]-t[1])}function enlargedArea(t,n){return(Math.max(n[2],t[2])-Math.min(n[0],t[0]))*(Math.max(n[3],t[3])-Math.min(n[1],t[1]))}function intersectionArea(t,n){var e=Math.max(t[0],n[0]),r=Math.max(t[1],n[1]),i=Math.min(t[2],n[2]),o=Math.min(t[3],n[3]);return Math.max(0,i-e)*Math.max(0,o-r)}function contains(t,n){return t[0]<=n[0]&&t[1]<=n[1]&&n[2]<=t[2]&&n[3]<=t[3]}function intersects(t,n){return n[0]<=t[2]&&n[1]<=t[3]&&n[2]>=t[0]&&n[3]>=t[1]}function multiSelect(t,n,e,r,i){for(var o,a=[n,e];a.length;)(e=a.pop())-(n=a.pop())<=r||(select(t,n,e,o=n+Math.ceil((e-n)/r/2)*r,i),a.push(n,o,o,e))}function select(t,n,e,r,i){for(var o,a,s,h,u,l,c;e>n;){for(e-n>600&&(o=e-n+1,a=r-n+1,s=Math.log(o),h=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*h*(o-h)/o)*(a-o/2<0?-1:1),select(t,Math.max(n,Math.floor(r-a*h/o+u)),Math.min(e,Math.floor(r+(o-a)*h/o+u)),r,i)),l=t[r],a=n,c=e,swap(t,n,r),i(t[e],l)>0&&swap(t,n,e);a<c;){for(swap(t,a,c),a++,c--;i(t[a],l)<0;)a++;for(;i(t[c],l)>0;)c--}0===i(t[n],l)?swap(t,n,c):swap(t,++c,e),c<=r&&(n=c+1),r<=c&&(e=c-1)}}function swap(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}rbush.prototype={all:function(){return this._all(this.data,[])},search:function(t){var n=this.data,e=[],r=this.toBBox;if(!intersects(t,n.bbox))return e;for(var i,o,a,s,h=[];n;){for(i=0,o=n.children.length;i<o;i++)a=n.children[i],intersects(t,s=n.leaf?r(a):a.bbox)&&(n.leaf?e.push(a):contains(t,s)?this._all(a,e):h.push(a));n=h.pop()}return e},collides:function(t){var n=this.data,e=this.toBBox;if(!intersects(t,n.bbox))return!1;for(var r,i,o,a,s=[];n;){for(r=0,i=n.children.length;r<i;r++)if(o=n.children[r],intersects(t,a=n.leaf?e(o):o.bbox)){if(n.leaf||contains(t,a))return!0;s.push(o)}n=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var n=0,e=t.length;n<e;n++)this.insert(t[n]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:empty(),leaf:!0},this},remove:function(t){if(!t)return this;for(var n,e,r,i,o=this.data,a=this.toBBox(t),s=[],h=[];o||s.length;){if(o||(o=s.pop(),e=s[s.length-1],n=h.pop(),i=!0),o.leaf&&-1!==(r=o.children.indexOf(t)))return o.children.splice(r,1),s.push(o),this._condense(s),this;i||o.leaf||!contains(o.bbox,a)?e?(n++,o=e.children[n],i=!1):o=null:(s.push(o),h.push(n),n=0,e=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:function(t,n){return t[0]-n[0]},compareMinY:function(t,n){return t[1]-n[1]},toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,n){for(var e=[];t;)t.leaf?n.push.apply(n,t.children):e.push.apply(e,t.children),t=e.pop();return n},_build:function(t,n,e,r){var i,o=e-n+1,a=this._maxEntries;if(o<=a)return calcBBox(i={children:t.slice(n,e+1),height:1,bbox:null,leaf:!0},this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),i={children:[],height:r,bbox:null,leaf:!1};var s,h,u,l,c=Math.ceil(o/a),f=c*Math.ceil(Math.sqrt(a));for(multiSelect(t,n,e,f,this.compareMinX),s=n;s<=e;s+=f)for(multiSelect(t,s,u=Math.min(s+f-1,e),c,this.compareMinY),h=s;h<=u;h+=c)l=Math.min(h+c-1,u),i.children.push(this._build(t,h,l,r-1));return calcBBox(i,this.toBBox),i},_chooseSubtree:function(t,n,e,r){for(var i,o,a,s,h,u,l,c;r.push(n),!n.leaf&&r.length-1!==e;){for(l=c=1/0,i=0,o=n.children.length;i<o;i++)h=bboxArea((a=n.children[i]).bbox),(u=enlargedArea(t,a.bbox)-h)<c?(c=u,l=h<l?h:l,s=a):u===c&&h<l&&(l=h,s=a);n=s||n.children[0]}return n},_insert:function(t,n,e){var r=this.toBBox,i=e?t.bbox:r(t),o=[],a=this._chooseSubtree(i,this.data,n,o);for(a.children.push(t),extend(a.bbox,i);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(i,o,n)},_split:function(t,n){var e=t[n],r=e.children.length,i=this._minEntries;this._chooseSplitAxis(e,i,r);var o=this._chooseSplitIndex(e,i,r),a={children:e.children.splice(o,e.children.length-o),height:e.height,bbox:null,leaf:!1};e.leaf&&(a.leaf=!0),calcBBox(e,this.toBBox),calcBBox(a,this.toBBox),n?t[n-1].children.push(a):this._splitRoot(e,a)},_splitRoot:function(t,n){this.data={children:[t,n],height:t.height+1,bbox:null,leaf:!1},calcBBox(this.data,this.toBBox)},_chooseSplitIndex:function(t,n,e){var r,i,o,a,s,h,u,l;for(h=u=1/0,r=n;r<=e-n;r++)a=intersectionArea(i=distBBox(t,0,r,this.toBBox),o=distBBox(t,r,e,this.toBBox)),s=bboxArea(i)+bboxArea(o),a<h?(h=a,l=r,u=s<u?s:u):a===h&&s<u&&(u=s,l=r);return l},_chooseSplitAxis:function(t,n,e){var r=t.leaf?this.compareMinX:compareNodeMinX,i=t.leaf?this.compareMinY:compareNodeMinY;this._allDistMargin(t,n,e,r)<this._allDistMargin(t,n,e,i)&&t.children.sort(r)},_allDistMargin:function(t,n,e,r){t.children.sort(r);var i,o,a=this.toBBox,s=distBBox(t,0,n,a),h=distBBox(t,e-n,e,a),u=bboxMargin(s)+bboxMargin(h);for(i=n;i<e-n;i++)o=t.children[i],extend(s,t.leaf?a(o):o.bbox),u+=bboxMargin(s);for(i=e-n-1;i>=n;i--)o=t.children[i],extend(h,t.leaf?a(o):o.bbox),u+=bboxMargin(h);return u},_adjustParentBBoxes:function(t,n,e){for(var r=e;r>=0;r--)extend(n[r].bbox,t)},_condense:function(t){for(var n,e=t.length-1;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():calcBBox(t[e],this.toBBox)},_initFormat:function(t){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(t[0])),this.compareMinY=new Function("a","b",n.join(t[1])),this.toBBox=new Function("a","return [a"+t.join(", a")+"];")}},void 0===(r=function(){return rbush}.call(n,e,n,t))||(t.exports=r)}()}}]);