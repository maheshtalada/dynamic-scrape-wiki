(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"5bg6":function(e,t,i){"use strict";i.r(t);var n=i("gcR/"),a=i.n(n),s=i("lwsE"),o=i.n(s),r=i("W8MJ"),l=i.n(r),c=i("a1gu"),h=i.n(c),u=i("Nsbk"),f=i.n(u),d=i("7W2i"),m=i.n(d),g=i("q1tI"),v=i.n(g),p=i("17x9"),S=i.n(p),_=i("5IO/"),x=i("Vg22"),E=i("E+oP"),b=i.n(E),T=i("P/G1"),k=i.n(T),N=i("BkRI"),w=i.n(N),y=i("xweI"),C=i.n(y),O=i("zdiy"),F=i.n(O),I=i("WZLu"),L=i("GMTw"),P=i("9V8J"),W=i("GEYT"),V=i.n(W),A=i("zbfZ"),D=i("jKqO"),M=a()(L.a,{}),j=function(e){function FinancialDetails(e){var t;return o()(this,FinancialDetails),(t=h()(this,f()(FinancialDetails).call(this,e))).state={hasErrors:!1,forceValidation:!1,modifiedValues:{},initialValues:{},isFetching:e.schema_get_financial&&e.schema_get_financial.isFetching||!1,navigatingSaveExit:!1,errorCode:"",isError:!1},t}return m()(FinancialDetails,e),l()(FinancialDetails,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.schema_get_financial;this.setState({isFetching:t&&t.isFetching}),e.schema_save_financial&&e.schema_save_financial.listingid?this.handlePostOnline(e.schema_save_financial):e.schema_save_financial&&e.schema_save_financial.isFetching?this.setState({isFetching:e.schema_save_financial.isFetching}):e.schema_save_financial&&(e.schema_save_financial.error||"error"===e.schema_save_financial.status)&&(window.scrollTo(0,0),this.setState({isError:!0,errorCode:e.schema_save_financial.error&&e.schema_save_financial.error.error_description}))}},{key:"handlePostOnline",value:function handlePostOnline(e){var t=this,i=this.state,n=i.goto,a=i.navigatingSaveExit;n&&"finish"===n?this.setState({isFetching:e.isFetching},(function(){a?t.context.router.push("/profile/listings"):t.context.router.push({pathname:e.listingurl})})):n&&"next"===n&&this.context.router.push({pathname:"/profile/additional/property-listing/".concat(e.listingid)})}},{key:"onSchemaChange",value:function onSchemaChange(e,t){var i=this.props;this.setState({changeObject:e,hasErrors:t});var n=k()(i.schemas).length;if(!b()(this.refs))for(var a=0;a<n;++a)this.refs["schema_".concat(a)]&&this.refs["schema_".concat(a)].rebuild()}},{key:"renderSchema",value:function renderSchema(){var e=this,t=this.context,i=t.i18n,n=t.country,s=this.props.schema_get_financial;if(b()(s))return null;var o=s.schemas,r=(s.schemaInfos,s.referenceData);return C()(k()(o),(function(e){return e.order})).map((function(t,s){return a()("div",{id:"schema_".concat(s)},void 0,v.a.createElement(I.a,{l:i.l,country:n,ref:"schema_".concat(s),data:t,writeMode:!0,onChange:e.onSchemaChange.bind(e),modifiedValues:e.state.modifiedValues,initialValues:e.state.initialValues,referenceData:r}))}))}},{key:"onSubmit",value:function onSubmit(e){for(var t=!0,i=k()(this.props.schema_get_financial.schemas).length,n=[],a=0;a<i;++a)this.refs["schema_".concat(a)].checkSubmissionValid()||(n.push("schema_".concat(a)),t=!1);t?(this.setState({goto:e}),this.props.dispatch(Object(D.d)({payload:F()({},this.state.initialValues,this.state.modifiedValues)}))):V()(document.getElementById(n[0]))}},{key:"onBackClick",value:function onBackClick(){this.context.router.push({pathname:"/profile/property/property-listing/".concat(this.props.params.id)})}},{key:"onNextClick",value:function onNextClick(){this.onSubmit("next")}},{key:"onConfirmClick",value:function onConfirmClick(){this.onSubmit("finish")}},{key:"onNavigateSaveExitClick",value:function onNavigateSaveExitClick(){this.onSubmit("finish"),this.setState({navigatingSaveExit:!0})}},{key:"render",value:function render(){var e=this.context.i18n.l,t=this.state,i=t.isFetching,n=t.errorCode,s=t.isError;return a()("div",{className:"schema-forms"},void 0,i&&!frameworkGlobals.isServer&&M,s&&a()(A.a,{l:e,errorCode:n}),this.renderSchema(),!i&&a()(P.a,{nextText:"NEXTTOADDITIONAL",backText:"BACKTOPROPERTY",saveExitText:"POSTONLINE",className:"linear-navigation--light-theme",isSaveExitRequired:!0,isNavigatingSaveExitRequired:!0,navigatingSaveExitText:"SAVEEXIT",onNext:this.onNextClick.bind(this),onConfirm:this.onConfirmClick.bind(this),onBack:this.onBackClick.bind(this),onNavigateSaveExit:this.onNavigateSaveExitClick.bind(this)}))}}]),FinancialDetails}(g.Component);j.contextTypes={router:S.a.object,i18n:S.a.object};var B=Object(x.connect)((function mapStateToProps(e){return{schema_save_financial:e.schema.schema_save_financial}}))(j),R=i("oasI"),H=i("cTyv"),q=function(e){function ListingFinancialPage(e){var t;o()(this,ListingFinancialPage),t=h()(this,f()(ListingFinancialPage).call(this,e));var i=w()(H.a);return i[3].activeStep=!0,t.state={navigationMap:i},t}return m()(ListingFinancialPage,e),l()(ListingFinancialPage,[{key:"render",value:function render(){var e=this.context.i18n.l,t=this.state.navigationMap;return a()("div",{className:"profile-page__layout__profile-section"},void 0,a()("div",{className:"schema-listing-page listing-financial-page flex-layout"},void 0,a()("div",{className:"row"},void 0,a()("div",{className:"col-xs-12"},void 0,a()(R.a,{steps:t,currentStep:t[3],keyName:"{listingid}",keyValue:this.props.params.id||"",title:"PAGEHEADINGFINANCIAL"}))),a()("div",{className:""},void 0,a()("div",{className:""},void 0,a()("div",{className:""},void 0,a()("div",{className:"schema-border","data-automation-selector":"ssj-section-header-content"},void 0,a()("h2",{className:"subheader-heading","data-automation-selector":"ssj-section-title"},void 0,e("FINANCIALINFOSCHEMATITLE"))),v.a.createElement(B,this.props))))))}}]),ListingFinancialPage}(g.Component);q.contextTypes={i18n:S.a.object};t.default=Object(x.connect)((function mapStateToProps(e){return{schema_get_financial:e.schema.schema_get_financial}}))(Object(_.a)(q,[D.l],!0))},GEYT:function(e,t){var i="complete",n="canceled";function setElementScroll(e,t,i){e.self===e?e.scrollTo(t,i):(e.scrollLeft=t,e.scrollTop=i)}function animate(e){var t=e._scrollSettings;if(t){var n=t.maxSynchronousAlignments,a=function getTargetScrollLocation(e,t){var i,n,a,s,o,r,l,c=e.align,h=e.target.getBoundingClientRect(),u=c&&null!=c.left?c.left:.5,f=c&&null!=c.top?c.top:.5,d=c&&null!=c.leftOffset?c.leftOffset:0,m=c&&null!=c.topOffset?c.topOffset:0,g=u,v=f;if(e.isWindow(t))r=Math.min(h.width,t.innerWidth),l=Math.min(h.height,t.innerHeight),n=h.left+t.pageXOffset-t.innerWidth*g+r*g,a=h.top+t.pageYOffset-t.innerHeight*v+l*v,a-=m,s=(n-=d)-t.pageXOffset,o=a-t.pageYOffset;else{r=h.width,l=h.height,i=t.getBoundingClientRect();var p=h.left-(i.left-t.scrollLeft),S=h.top-(i.top-t.scrollTop);n=p+r*g-t.clientWidth*g,a=S+l*v-t.clientHeight*v,n=Math.max(Math.min(n,t.scrollWidth-t.clientWidth),0),a=Math.max(Math.min(a,t.scrollHeight-t.clientHeight),0),a-=m,s=(n-=d)-t.scrollLeft,o=a-t.scrollTop}return{x:n,y:a,differenceX:s,differenceY:o}}(t,e),s=Date.now()-t.startTime,o=Math.min(1/t.time*s,1);if(t.endIterations>=n)return setElementScroll(e,a.x,a.y),e._scrollSettings=null,t.end(i);var r=1-t.ease(o);if(setElementScroll(e,a.x-a.differenceX*r,a.y-a.differenceY*r),s>=t.time)return t.endIterations++,animate(e);!function raf(e){if("requestAnimationFrame"in window)return window.requestAnimationFrame(e);setTimeout(e,16)}(animate.bind(null,e))}}function defaultIsWindow(e){return e.self===e}function transitionScrollTo(e,t,i,a){var s,o=!t._scrollSettings,r=t._scrollSettings,l=Date.now(),c={passive:!0};function end(e){t._scrollSettings=null,t.parentElement&&t.parentElement._scrollSettings&&t.parentElement._scrollSettings.end(e),a(e),s&&(t.removeEventListener("touchstart",s,c),t.removeEventListener("wheel",s,c))}r&&r.end(n);var h=i.maxSynchronousAlignments;null==h&&(h=3),t._scrollSettings={startTime:r?r.startTime:Date.now(),endIterations:0,target:e,time:i.time+(r?l-r.startTime:0),ease:i.ease,align:i.align,isWindow:i.isWindow||defaultIsWindow,maxSynchronousAlignments:h,end:end},"cancellable"in i&&!i.cancellable||(s=end.bind(null,n),t.addEventListener("touchstart",s,c),t.addEventListener("wheel",s,c)),o&&animate(t)}function defaultIsScrollable(e){return"pageXOffset"in e||(e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth)&&"hidden"!==getComputedStyle(e).overflow}function defaultValidTarget(){return!0}e.exports=function(e,t,n){if(e){"function"==typeof t&&(n=t,t=null),t||(t={}),t.time=isNaN(t.time)?1e3:t.time,t.ease=t.ease||function(e){return 1-Math.pow(1-e,e/2)};for(var a=e.parentElement,s=1,o=t.validTarget||defaultValidTarget,r=t.isScrollable;a;){if(o(a,s)&&(r?r(a,defaultIsScrollable):defaultIsScrollable(a))&&(s++,transitionScrollTo(e,a,t,done)),!(a=a.parentElement)){done(i);break}"BODY"===a.tagName&&(a=(a=a.ownerDocument).defaultView||a.ownerWindow)}}function done(e){--s||n&&n(e)}}},WZLu:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("gcR/"),a=i.n(n),s=i("MKeS"),o=Object(s.a)((function(){return Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(83)]).then(i.bind(null,"pzZ4"))}),{LoadingComponent:a()("div",{},void 0,"Loading...")})},qbnB:function(e,t,i){var n=i("juv8"),a=i("LsHQ"),s=i("mTTR"),o=a((function(e,t){n(t,s(t),e)}));e.exports=o},zbfZ:function(e,t,i){"use strict";var n=i("gcR/"),a=i.n(n),s=(i("q1tI"),i("TSYQ")),o=i.n(s);t.a=function ErrorBox(e){var t=e.errorCode,i=e.l,n=e.classNames,s=e.children,r=void 0===s?null:s;return a()("div",{className:o()("error-box",n)},void 0,i(t),r)}},zdiy:function(e,t,i){e.exports=i("qbnB")}}]);