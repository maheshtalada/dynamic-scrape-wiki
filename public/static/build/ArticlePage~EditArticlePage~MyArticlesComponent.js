(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"7rBH":function(e,t,a){"use strict";var n=a("gcR/"),r=a.n(n),s=a("lwsE"),c=a.n(s),i=a("W8MJ"),o=a.n(i),d=a("a1gu"),l=a.n(d),u=a("Nsbk"),p=a.n(u),g=a("PJYZ"),E=a.n(g),T=a("7W2i"),h=a.n(T),_=a("q1tI"),S=a("17x9"),v=a.n(S),f=a("TSYQ"),m=a.n(f),y=function(e){function CheckBox(e){var t;return c()(this,CheckBox),(t=l()(this,p()(CheckBox).call(this,e))).onChange=t.onChange.bind(E()(t)),t.state={checked:e.checked},t}return h()(CheckBox,e),o()(CheckBox,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.checked!==this.state.checked&&this.setState({checked:e.checked})}},{key:"onChange",value:function onChange(e){this.setState({checked:e.target.checked}),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function render(){var e=this.props,t=e.label,a=void 0===t?"":t,n=e.name,s=void 0===n?"":n,c=e.id,i=void 0===c?"":c,o=e.value,d=e.className,l=void 0===d?"":d,u=e.analyticsData,p=e.renderLabel,g=this.state.checked;return r()("div",{className:m()("mdl-checkbox-group",l)},void 0,r()("input",{"data-tag-category":u.category,"data-tag-action":u.action,"data-tag-label":"".concat(u.label," ").concat(a),id:i,name:s,onChange:this.onChange,type:"checkbox","data-automation-selector":"input-checkbox",checked:g,value:o}),r()("label",{htmlFor:i},void 0,p?p():a))}}]),CheckBox}(_.Component);y.defaultProps={value:"checked",checked:!1,onChange:function onChange(){},analyticsData:{category:"Checkbox element"}},y.contextTypes={router:v.a.object,i18n:v.a.object},t.a=y},gZSj:function(e,t,a){"use strict";var n=a("gcR/"),r=a.n(n),s=a("RIqP"),c=a.n(s),i=a("lwsE"),o=a.n(i),d=a("W8MJ"),l=a.n(d),u=a("a1gu"),p=a.n(u),g=a("Nsbk"),E=a.n(g),T=a("PJYZ"),h=a.n(T),_=a("7W2i"),S=a.n(_),v=a("q1tI"),f=a.n(v),m=a("17x9"),y=a.n(m),O=a("Vg22"),R=a("aNkp"),P=a("J+aZ"),b=a("ccNM"),C=a("7rBH"),A=a("TSYQ"),w=a.n(A),k=function(e){function ContentTags(e){var t;return o()(this,ContentTags),(t=p()(this,E()(ContentTags).call(this,e))).state={tagExists:!1,fetchedTags:e.fetchedTags,newTags:e.newTags},t.selectedTags=e.selectedTags||[],t.addNewTag=t.addNewTag.bind(h()(t)),t.removeTag=t.removeTag.bind(h()(t)),t.handleSelectTags=t.handleSelectTags.bind(h()(t)),t.isDuplicateTag=t.isDuplicateTag.bind(h()(t)),t.handleTagInputKeyPress=t.handleTagInputKeyPress.bind(h()(t)),t}return S()(ContentTags,e),l()(ContentTags,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.setState({fetchedTags:e.fetchedTags,newTags:e.newTags})}},{key:"render",value:function render(){var e=this,t=this.state,a=t.tagExists,n=t.fetchedTags,s=t.newTags,i=[].concat(c()(n),c()(s)),o=this.context.i18n.l;return r()("div",{className:w()("content-tags-wrap",this.props.className)},void 0,r()("ul",{className:"m-article-tags__tags-wrap__tags"},void 0,i&&i.length>0&&i.map((function(t){var a=e.selectedTags.indexOf(t)>-1;return r()("div",{className:"m-article-tags__tags-wrap__tags__tag-wrap"},void 0,r()(C.a,{checked:a,label:t,name:t,id:t,onChange:e.handleSelectTags}))}))),r()("div",{className:"m-article-tags__tags-wrap__new-tags"},void 0,a&&r()("div",{className:"m-article-tags__tags-wrap__new-tags__tag-exist"},void 0,r()("span",{},void 0,o("TAGEXISTS"))),f.a.createElement("input",{ref:"newTagInput",type:"text",placeholder:o("ADDNEWTAG"),onKeyDown:this.handleTagInputKeyPress}),r()("button",{className:"btn btn-primary m-article-tags__tags-wrap__new-tags__add-tag",onClick:this.addNewTag},void 0,o("ADD"))))}},{key:"handleSelectTags",value:function handleSelectTags(e){var t=c()(this.selectedTags);if(e.target.checked)t.push(e.target.name);else{var a=t.indexOf(e.target.name);t.splice(a,1)}this.selectedTags=t,this.props.updateSelectedTags(this.selectedTags)}},{key:"handleTagInputKeyPress",value:function handleTagInputKeyPress(e){var t=this,a=e.target.value,n=this.state.newTags,r=c()(n),s=!1;13===e.keyCode&&(this.isDuplicateTag(a)?s=!0:(e.target.value="",r.push(a),this.selectedTags.push(a),s=!1),this.setState({tagExists:s},(function(){return t.props.updateNewTags(r)})))}},{key:"addNewTag",value:function addNewTag(){var e=this,t=this.state,a=t.newTags,n=(t.fetchedTags,c()(a)),r=!1,s=this.refs.newTagInput.value;this.isDuplicateTag(s)?r=!0:(n.push(s),this.selectedTags.push(s),this.props.updateSelectedTags(this.selectedTags),r=!1,this.refs.newTagInput.value=""),this.setState({tagExists:r},(function(){return e.props.updateNewTags(n)}))}},{key:"isDuplicateTag",value:function isDuplicateTag(e){var t=this.state,a=t.fetchedTags,n=t.newTags;if(0!==a.length||0!==n.length){var r=[].concat(c()(a),c()(n)).map((function(e){return e.toLowerCase()})),s=e.toLowerCase();return r.indexOf(s)>=0}}},{key:"removeTag",value:function removeTag(e){var t=c()(this.state.newTags);t.splice(e,1),this.props.updateNewTags(t)}}]),ContentTags}(v.Component);k.contextTypes={i18n:y.a.object};var N=k,L=a("o8xV"),x=r()("div",{className:"m-article-tags__loader"},void 0,r()(R.a,{})),I=r()("div",{className:"m-article-tags__loader"},void 0,r()(R.a,{})),D=function(e){function ArticleTags(e){var t;return o()(this,ArticleTags),(t=p()(this,E()(ArticleTags).call(this,e))).state={isFetching:!1,newTags:[],fetchedTags:[]},t.selectedTags=[],t.updateSelectedTags=t.updateSelectedTags.bind(h()(t)),t.updateNewTags=t.updateNewTags.bind(h()(t)),t.saveTags=t.saveTags.bind(h()(t)),t}return S()(ArticleTags,e),l()(ArticleTags,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.articleId;this.props.dispatch(Object(L.c)({paramsPayload:{id:e}}))}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.articleTags,a=e.saveArticleTags,n=e.articleId,r=this.props,s=r.redirectToPdp,i=r.onArticleSave;this.setState({isFetching:t&&t.isFetching,fetchedTags:t&&(t.data||[]),isSavingTags:a&&a.isSavingTags}),t&&t.data&&(this.selectedTags=c()(t.data)),a&&"success"===a.status&&(b.modal.clear(),i&&i(n),s&&this.context.router.push({pathname:a.articleurl}))}},{key:"render",value:function render(){var e=this.state,t=e.isFetching,a=e.fetchedTags,n=e.newTags,s=e.isSavingTags,c=this.context.i18n.l;return t?x:r()("div",{className:"m-article-tags__tags-wrap"},void 0,s&&I,r()(N,{newTags:n,fetchedTags:a,selectedTags:this.selectedTags,updateSelectedTags:this.updateSelectedTags,updateNewTags:this.updateNewTags}),r()("div",{className:"m-article-tags__tags-wrap__save-tags"},void 0,r()(P.a,{onClick:this.saveTags},void 0,c("SAVE"))))}},{key:"updateSelectedTags",value:function updateSelectedTags(e){this.selectedTags=e}},{key:"updateNewTags",value:function updateNewTags(e){this.setState({newTags:e})}},{key:"saveTags",value:function saveTags(){this.state.newTags;var e=this.props.articleId,t=c()(this.selectedTags);this.props.dispatch(Object(L.k)({dataPayload:t,paramsPayload:{id:e}}))}}]),ArticleTags}(v.Component);D.contextTypes={i18n:y.a.object,router:y.a.object},D.defaultProps={redirectToPdp:!1};t.a=Object(O.connect)((function mapStateToProps(e){var t=e.articles;return{articleTags:t.article_tags,saveArticleTags:t.save_article_tags}}))(D)},o8xV:function(e,t,a){"use strict";var n=a("lSNA"),r=a.n(n),s=a("o0o1"),c=a.n(s),i=a("yXPU"),o=a.n(i),d=a("lwsE"),l=a.n(d),u=a("a1gu"),p=a.n(u),g=a("Nsbk"),E=a.n(g),T=a("7W2i"),h=a.n(T),_=new(function(e){function ArticleService(){return l()(this,ArticleService),p()(this,E()(ArticleService).apply(this,arguments))}return h()(ArticleService,e),ArticleService}(a("N7uj").a)),S=a("UfWW"),v=a.n(S);function addComment(e,t){return[e].concat(t)}function editComment(e,t,a,n){return a[v()(a,{id:e})][n]=t[n],a}var f=a("aW4U"),m=a("Aud9");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function REQUEST_ARTICLE_TAGS(e){return function(){var t=o()(c.a.mark((function _callee(t){var a,n;return c.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"RESPONSE_ARTICLE_TAGS",data:{isFetching:!0}}),a={endpoint:"savearticletags",method:"get",paramsPayload:e.paramsPayload},r.prev=2,r.next=5,_.fetchData(a);case 5:n=r.sent,t({type:"RESPONSE_ARTICLE_TAGS",data:Object.assign(n.data,{isFetching:!1})}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),t(Object(f.k)({action:{type:"RESPONSE_ARTICLE_TAGS",data:Object.assign(r.t0,{isFetching:!1})},error:r.t0}));case 12:case"end":return r.stop()}}),_callee,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}function SAVE_ARTICLE_TAGS(e){return function(){var t=o()(c.a.mark((function _callee2(t){var a,n;return c.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"RESPONSE_SAVE_ARTICLE_TAGS",data:{isSavingTags:!0}}),a={endpoint:"savearticletags",method:"post",paramsPayload:e.paramsPayload,dataPayload:e.dataPayload},r.prev=2,r.next=5,_.fetchData(a);case 5:n=r.sent,t({type:"RESPONSE_SAVE_ARTICLE_TAGS",data:Object.assign(n.data,{isSavingTags:!1})}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),t(Object(f.k)({action:{type:"RESPONSE_SAVE_ARTICLE_TAGS",data:Object.assign(r.t0,{isSavingTags:!1})},error:r.t0}));case 12:case"end":return r.stop()}}),_callee2,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}function REQUEST_GET_ARTICLE(e){return function(){var t=o()(c.a.mark((function _callee3(t){var a,n;return c.a.wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:return t({type:"RESPONSE_GET_ARTICLE",data:{isFetching:!0}}),t({type:"RESPONSE_ADD_ARTICLE_SCHEMA",data:{}}),t({type:"RESPONSE_SAVE_ARTICLE_TAGS",data:{}}),a={endpoint:"getarticle",method:"get",paramsPayload:{id:e.params.articleid}},s.prev=4,s.next=7,_.fetchData(a);case 7:n=s.sent,t({type:"RESPONSE_GET_ARTICLE",data:Object.assign(n.data,{isFetching:!1})}),t({type:"RESPONSE_SAVE_COMMENT",data:r()({},e.params.articleid,n.data.newsArticle.comments)}),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(4),t(Object(f.k)({action:{type:"RESPONSE_GET_ARTICLE",data:Object.assign(s.t0,{isFetching:!1})},error:s.t0}));case 15:case"end":return s.stop()}}),_callee3,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}()}function REQUEST_SAVE_COMMENT(e){return function(){var t=o()(c.a.mark((function _callee4(t,a){var n,s,i,o,d,l;return c.a.wrap((function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:return n=a().articles.comment_details,t({type:"RESPONSE_SAVE_COMMENT",data:_objectSpread({},s=void 0===n?{}:n,{isSavingComment:!0})}),i={endpoint:"savecomments",method:"post",dataPayload:e.dataPayload},c.prev=3,c.next=6,_.fetchData(i);case 6:d=c.sent,l=s[e.dataPayload.contentId]||{data:[]},e.dataPayload.id?l.data=editComment(e.dataPayload.id,d.data,l.data||[],"comment"):l.data=addComment(d.data,l&&l.data||[]),delete s.error,t({type:"RESPONSE_SAVE_COMMENT",data:Object.assign(s,(o={},r()(o,e.dataPayload.contentId,l),r()(o,"isSavingComment",!1),o))}),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(3),t(Object(f.k)({action:{type:"RESPONSE_SAVE_COMMENT",data:Object.assign(s,{error:c.t0.error,isSavingComment:!1})},error:c.t0}));case 16:case"end":return c.stop()}}),_callee4,null,[[3,13]])})));return function(e,a){return t.apply(this,arguments)}}()}function REQUEST_DELETE_COMMENT(e,t){return function(){var t=o()(c.a.mark((function _callee5(t){var a,n;return c.a.wrap((function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"RESPONSE_DELETE_COMMENT",data:{isDeletingComment:!0}}),a={endpoint:"deletecomments",method:"post",paramsPayload:e},r.prev=2,r.next=5,_.fetchData(a);case 5:n=r.sent,t({type:"RESPONSE_DELETE_COMMENT",data:Object.assign(n.data,{isDeletingComment:!1})}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),t(Object(f.k)({action:{type:"RESPONSE_DELETE_COMMENT",data:Object.assign(r.t0,{isDeletingComment:!1})},error:r.t0}));case 12:case"end":return r.stop()}}),_callee5,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}function REQUEST_GET_COMMENTS(e){return function(){var t=o()(c.a.mark((function _callee6(t,a){var n,s,i,o,d,l,u;return c.a.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:return n=a().articles.comment_details,s=void 0===n?"":n,t({type:"RESPONSE_SAVE_COMMENT",data:r()({},e.paramsPayload.contentid,{isFetching:!0})}),i={endpoint:"getcomments",method:"get",dataPayload:e.dataPayload,paramsPayload:e.paramsPayload},c.prev=3,c.next=6,_.fetchData(i);case 6:d=c.sent,l=s,(u=s&&s[e.paramsPayload.contentid]||"")&&u.data&&u.data.length?u.data=u.data.concat(d.data.data):u=d.data,console.log(u,d.data.data),t({type:"RESPONSE_SAVE_COMMENT",data:Object.assign({},l,(o={},r()(o,e.paramsPayload.contentid,u),r()(o,"isFetching",!1),o))}),c.next=17;break;case 14:c.prev=14,c.t0=c.catch(3),t(Object(f.k)({action:{type:"RESPONSE_SAVE_COMMENT",data:Object.assign(c.t0,{isFetching:!1})},error:c.t0}));case 17:case"end":return c.stop()}}),_callee6,null,[[3,14]])})));return function(e,a){return t.apply(this,arguments)}}()}function REQUEST_GET_BLOG_LIST(e){return function(){var t=o()(c.a.mark((function _callee7(t,a){var n,r,s,i;return c.a.wrap((function _callee7$(c){for(;;)switch(c.prev=c.next){case 0:return n=a().articles.article_data,r={endpoint:"getbloglist",method:"get",dataPayload:e.dataPayload},c.prev=2,c.next=5,_.fetchData(r);case 5:i=c.sent,n.data&&v()(i.data.data,{id:n.data[0].id})<-1?(n.data=n.data.concat(i.data.data),s=n):s=i.data,t({type:"RESPONSE_GET_BLOG_LIST",data:Object.assign({},s)}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(2),t(Object(f.k)({action:{type:"RESPONSE_GET_BLOG_LIST",data:Object.assign(c.t0)},error:c.t0}));case 13:case"end":return c.stop()}}),_callee7,null,[[2,10]])})));return function(e,a){return t.apply(this,arguments)}}()}function DELETE_ARTICLE(e){return function(){var t=o()(c.a.mark((function _callee8(t){var a,n;return c.a.wrap((function _callee8$(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"SHOW"}),t({type:"RESPONSE_DELETE_ARTICLE",data:{isDeleting:!0}}),a={endpoint:"deletearticle",method:"post",paramsPayload:e},r.prev=3,r.next=6,_.fetchData(a);case 6:n=r.sent,t({type:"HIDE"}),t({type:"RESPONSE_DELETE_ARTICLE",data:Object.assign(n.data,{isDeleting:!1})}),"success"===n.status.toLowerCase()&&t(Object(m.m)({query:{page:e.page}})),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),t(Object(f.k)({action:{type:"RESPONSE_DELETE_ARTICLE",data:Object.assign(r.t0,{isDeleting:!1})},error:r.t0}));case 15:case"end":return r.stop()}}),_callee8,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()}function REQUEST_UPDATE_BLOG_STATUS(e){return function(){var t=o()(c.a.mark((function _callee9(t){var a;return c.a.wrap((function _callee9$(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"RESPONSE_UPDATE_BLOG_STATUS",data:{isFetching:!0}}),a=_objectSpread({endpoint:"removearticle",method:"post"},e),n.prev=2,n.next=5,_.fetchData(a);case 5:n.sent,t({type:"RESPONSE_UPDATE_BLOG_STATUS",data:{isFetching:!1}}),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0),t(Object(f.k)({action:{type:"RESPONSE_REMOVE_ARTICLE",data:{isFetching:!1,error:n.t0.error&&n.t0.error.error_description||"",status:n.t0.status}},error:n.t0}));case 13:case"end":return n.stop()}}),_callee9,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}function REMOVE_ARTICLE(e){return function(){var t=o()(c.a.mark((function _callee10(t){var a,n;return c.a.wrap((function _callee10$(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"RESPONSE_REMOVE_ARTICLE",data:{isFetching:!0,updatingid:e.paramData.id}}),a={endpoint:"removearticle",method:"post",paramsPayload:e.paramData,dataPayload:e.data},r.prev=2,r.next=5,_.fetchData(a);case 5:n=r.sent,t({type:"RESPONSE_REMOVE_ARTICLE",data:_objectSpread({isFetching:!1,updatedid:e.paramData.id},n.data)}),"success"===n.status.toLowerCase()&&t(Object(m.m)({query:{page:e.page}})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),t(Object(f.k)({action:{type:"RESPONSE_REMOVE_ARTICLE",data:{isFetching:!1,error:r.t0.error&&r.t0.error.error_description||"",status:r.t0.status}},error:r.t0}));case 13:case"end":return r.stop()}}),_callee10,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}function REQUEST_LIKE_ARTICLE(e){return function(){var t=o()(c.a.mark((function _callee11(t){var a,n;return c.a.wrap((function _callee11$(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"SHOW"}),t({type:"RESPONSE_LIKE_ARTICLE",data:{isFetching:!0}}),a={endpoint:"articlelike",method:"post",paramsPayload:e},r.prev=3,r.next=6,_.fetchData(a);case 6:n=r.sent,t({type:"HIDE"}),t({type:"RESPONSE_ARTICLE_LIKE",data:Object.assign(n.data,{isFetching:!1})}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),t(Object(f.k)({action:{type:"RESPONSE_ARTICLE_LIKE",data:Object.assign(r.t0,{isFetching:!1})},error:r.t0}));case 14:case"end":return r.stop()}}),_callee11,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()}a.d(t,"c",(function(){return REQUEST_ARTICLE_TAGS})),a.d(t,"k",(function(){return SAVE_ARTICLE_TAGS})),a.d(t,"e",(function(){return REQUEST_GET_ARTICLE})),a.d(t,"i",(function(){return REQUEST_SAVE_COMMENT})),a.d(t,"d",(function(){return REQUEST_DELETE_COMMENT})),a.d(t,"g",(function(){return REQUEST_GET_COMMENTS})),a.d(t,"f",(function(){return REQUEST_GET_BLOG_LIST})),a.d(t,"a",(function(){return DELETE_ARTICLE})),a.d(t,"j",(function(){return REQUEST_UPDATE_BLOG_STATUS})),a.d(t,"b",(function(){return REMOVE_ARTICLE})),a.d(t,"h",(function(){return REQUEST_LIKE_ARTICLE}))}}]);