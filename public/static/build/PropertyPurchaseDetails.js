(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{"5IO/":function(e,a,t){"use strict";t.d(a,"a",(function(){return connectDataFetchers}));var i=t("lSNA"),n=t.n(i),r=t("pVnL"),s=t.n(r),o=t("lwsE"),c=t.n(o),l=t("W8MJ"),p=t.n(l),u=t("a1gu"),d=t.n(u),h=t("Nsbk"),v=t.n(h),m=t("7W2i"),f=t.n(m),_=t("q1tI"),y=t.n(_),g=t("17x9"),x=t.n(g);function ownKeys(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,i)}return t}var N=!0;function connectDataFetchers(e){var a,t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t=a=function(a){function DataFetchersWrapper(){return c()(this,DataFetchersWrapper),d()(this,v()(DataFetchersWrapper).apply(this,arguments))}return f()(DataFetchersWrapper,a),p()(DataFetchersWrapper,[{key:"componentDidUpdate",value:function componentDidUpdate(e){var a=this.props.location,t=e.location;(a.pathname!==t.pathname||a.search!==t.search)&&this._fetchDataOnClient()}},{key:"componentDidMount",value:function componentDidMount(){!r&&N||this._fetchDataOnClient(),N=!1}},{key:"_fetchDataOnClient",value:function _fetchDataOnClient(){var e=this.context.i18n?this.context.i18n.getLocale():"en";DataFetchersWrapper.fetchData({locale:e,dispatch:this.props.dispatch,params:this.props.params,query:this.props.location.query})}},{key:"render",value:function render(){return y.a.createElement(e,s()({},this.props,o))}}],[{key:"fetchData",value:function fetchData(e){var a=e.dispatch,t=e.params,r=void 0===t?{}:t,s=e.query,c=void 0===s?{}:s,l=e.locale;return Promise.all(i.map((function(e){return a(e(function _objectSpread(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(t,!0).forEach((function(a){n()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({params:r,query:c,locale:l},o)))})))}}]),DataFetchersWrapper}(e),a.contextTypes={i18n:x.a.object,router:x.a.object},t}},"9V8J":function(e,a,t){"use strict";t.d(a,"a",(function(){return O}));var i=t("pVnL"),n=t.n(i),r=t("gcR/"),s=t.n(r),o=t("lwsE"),c=t.n(o),l=t("W8MJ"),p=t.n(l),u=t("a1gu"),d=t.n(u),h=t("Nsbk"),v=t.n(h),m=t("7W2i"),f=t.n(m),_=t("q1tI"),y=t.n(_),g=t("17x9"),x=t.n(g),N=t("J+aZ"),k=t("aNkp"),b=t("TSYQ"),S=t.n(b),E=s()(k.a,{}),C=s()("i",{className:"pe-7s-angle-left"}),P=s()(k.a,{}),D=s()(k.a,{singleColor:"#fff"}),T=s()("i",{className:"pe-7s-angle-right"}),O=function(e){function LinearNavigation(e){var a;return c()(this,LinearNavigation),(a=d()(this,v()(LinearNavigation).call(this,e))).state={},a}return f()(LinearNavigation,e),p()(LinearNavigation,[{key:"onClickBack",value:function onClickBack(){this.props.onBack()}},{key:"onClickNext",value:function onClickNext(){this.props.onNext()}},{key:"onClickConfirm",value:function onClickConfirm(){this.props.onConfirm()}},{key:"onClickNavigateSaveExit",value:function onClickNavigateSaveExit(){this.props.onNavigateSaveExit()}},{key:"render",value:function render(){var e=this,a=this.context.i18n.l,t=this.props,i=t.nextText,r=t.backText,o=t.className,c=t.saveExitText,l=t.isNextDisabled,p=t.isBackRequired,u=t.nextCaret,d=t.backCaret,h=t.currentActiveLoader,v=t.isNavigatingSaveExitRequired,m=t.navigatingSaveExitText,f=t.nextBtnGATags,_="linear-navigation__button-wrapper__back "+(p?"":" hide ");return s()("div",{className:"linear-navigation ".concat(o)},void 0,s()("div",{className:"linear-navigation__button-wrapper"},void 0,s()(N.a,{className:S()("toolbar-group",_),onClick:function onClick(){return e.onClickBack()}},void 0,"back"===h?E:"",d&&C,a(r)),this.props.isSaveExitRequired&&s()(N.a,{className:"linear-navigation__button-wrapper__save-and-exit",btnClassName:"btn-default",onClick:function onClick(){return e.onClickConfirm()}},void 0,"saveexit"===h?P:"",a(c)),v&&s()(N.a,{className:"linear-navigation__button-wrapper__save-and-exit",btnClassName:"btn-default",onClick:function onClick(){return e.onClickNavigateSaveExit()}},void 0,a(m)),this.props.isNextRequired&&y.a.createElement(N.a,n()({},f,{className:"toolbar-group linear-navigation__button-wrapper__next",onClick:function onClick(){return e.onClickNext()},disabled:l}),"next"===h?D:"",a(i),u&&T)))}}]),LinearNavigation}(y.a.Component);O.defaultProps={nextCaret:!0,backCaret:!0,nextText:"Next",backText:"Back",saveExitText:"Save for later",isBackRequired:!0,isSaveExitRequired:!1,useChevrons:!0,nextButtonType:"button",backButtonType:"button",currentActiveLoader:"",onNext:function onNext(){},onBack:function onBack(){},onConfirm:function onConfirm(){},onShowPopup:function onShowPopup(){},className:"",isNextDisabled:!1,isBackDisabled:!1,navigatingSaveExit:!1,navigatingSaveExitText:"Save and Exit",isNavigatingSaveExitRequired:!1,isNextRequired:!0,nextBtnGATags:{}},O.contextTypes={router:x.a.object,i18n:x.a.object}},CU0C:function(e,a,t){"use strict";var i=t("gcR/"),n=t.n(i),r=t("q1tI"),s=t.n(r),o=t("OnOE"),c=t.n(o),l=t("TTUQ"),p=t("wd/R"),u=t.n(p),d=t("7E/E"),h=t("dtw8"),v=t("/0IL"),m=n()(c.a,{}),f=n()("i",{className:"pe-7s-area-sqft"}),_=n()("i",{className:"pe-7s-bed-1"}),y=n()("i",{className:"pe-7s-bathroom"}),g=function MainInfo(e){var a=e.propertyDetails,t=e.l,i=e.country,r=Object(l.g)(a.livingArea,t,i,a.livingAreaUOM),s=Object(l.g)(a.lotArea,t,i,a.lotAreaUOM),o=a.cashPurchaseDetail||a.leveragedPurchaseDetail,c=o&&u()(o.purchaseDate,"DD/MM/YYYY").year();return n()("div",{className:"main-hero-prime-info"},void 0,m,r&&n()("div",{className:"item area","data-tip":t("SQUAREFOOTAGE")},void 0,f,n()("div",{className:"flex flex-align-end"},void 0,n()("span",{},void 0,r.formattedValue),n()("span",{className:"uom"},void 0,r.uom))),!!a.bedrooms&&n()("div",{className:"item","data-tip":t("BEDROOM")},void 0,_,a.bedrooms),!!a.bathrooms&&n()("div",{className:"item","data-tip":t("BATHROOM")},void 0,y,a.bathrooms),s&&n()("div",{className:"item area"},void 0,n()("i",{className:"pe-7s-industrial-fenced-yard","data-tip":t("LOTAREA")}),n()("div",{className:"flex flex-align-end"},void 0,n()("span",{},void 0,s.formattedValue),n()("span",{className:"uom"},void 0,s.uom))),c&&n()("div",{className:"item"},void 0,n()("i",{className:"pe-7s-date2","data-tip":t("YEARPURCHASED")}),c))},x=n()("i",{className:"pe-7s-bookmark-2"}),N=function PdfActions(e){var a=e.screenSize,t=e.renderSharePdfEmail,i=e.onExportToPdf,s=e.l;return n()(r.Fragment,{},void 0,a>2&&n()("button",{className:"btn btn-default btn-sm","data-tag-category":"PDF Export Actions","data-tag-action":"Click","data-tag-label":"My Portfolio",onClick:i},void 0,x," ",s("EXPORTTOPDF")),a>2&&t())},k=n()("div",{}),b=n()("i",{className:"pe-7s-note"}),S=n()("i",{className:"pe-7s-location-2"});a.a=function(e){var a=e.isPortfolioView,t=e.id,i=e.propertyDetails,r=e.l,o=e.screenSize,c=e.name,l=e.renderViewSwitchTabs,p=e.onExportToPdf,u=e.renderSharePdfEmail,m=e.isReviewStep,f=c;return i&&(f=i.name?i.name:i.address&&i.address.formattedAddress),n()("div",{className:"cash-return-modal__property-details"},void 0,l?l():k,a?n()("div",{className:"review-step__portfolio-view-actions"},void 0,n()(h.b,{target:"_blank",to:Object(d.b)(v.default.EDIT_MY_PROPERTY_TRANSACTION_LINK,t),className:"btn btn-sm btn-primary no-underline"},void 0,b,r("EDIT")),n()(N,{screenSize:o,l:r,renderSharePdfEmail:u,onExportToPdf:p})):n()("div",{className:"flex flex-align-center review-step__property-detail-wrap"},void 0,m&&n()(N,{screenSize:o,l:r,renderSharePdfEmail:u,onExportToPdf:p}),f&&n()("div",{className:"property-details__address"},void 0,S,n()("address",{},void 0,n()("div",{className:"property-details__address__line-one"},void 0,f))),i&&s.a.createElement(g,e)))}},WZLu:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var i=t("gcR/"),n=t.n(i),r=t("MKeS"),s=Object(r.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(83)]).then(t.bind(null,"pzZ4"))}),{LoadingComponent:n()("div",{},void 0,"Loading...")})},X325:function(e,a,t){"use strict";t.r(a);var i=t("gcR/"),n=t.n(i),r=t("lwsE"),s=t.n(r),o=t("W8MJ"),c=t.n(o),l=t("a1gu"),p=t.n(l),u=t("Nsbk"),d=t.n(u),h=t("PJYZ"),v=t.n(h),m=t("7W2i"),f=t.n(m),_=t("q1tI"),y=t.n(_),g=t("17x9"),x=t.n(g),N=t("Vg22"),k=(t("E+oP"),t("P/G1"),t("zdiy")),b=t.n(k),S=t("9V8J"),E=t("WZLu"),C=t("5IO/"),P=t("aNkp"),D=t("GMTw"),T=t("pPWK"),O=t("zbfZ"),w=t("CU0C"),R=t("jKqO"),q=n()(D.a,{}),A=n()(P.a,{}),j=function(e){function PurchaseDetails(e){var a;return s()(this,PurchaseDetails),(a=p()(this,d()(PurchaseDetails).call(this,e))).state={modifiedValues:{},initialValues:{}},a.onBackClick=a.onBackClick.bind(v()(a)),a.onNextClick=a.onNextClick.bind(v()(a)),a.onSchemaChange=a.onSchemaChange.bind(v()(a)),a.onNavigateSaveExitClick=a.onNavigateSaveExitClick.bind(v()(a)),a}return f()(PurchaseDetails,e),c()(PurchaseDetails,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){if(this.setState({isFetching:e.get_schema_my_property_purchase_details.isFetching,propertyName:e.get_schema_my_property_purchase_details.name,schemas:e.get_schema_my_property_purchase_details.schema&&e.get_schema_my_property_purchase_details.schema.schemas,referenceData:e.get_schema_my_property_purchase_details.schema&&e.get_schema_my_property_purchase_details.schema.referenceData,isSaving:e.save_schema_my_property_purchase_details.isFetching}),"success"===e.save_schema_my_property_purchase_details.status)this.nextStep&&"function"==typeof this[this.nextStep]&&this[this.nextStep](e);else if(e.save_schema_my_property_purchase_details.error||"error"===e.save_schema_my_property_purchase_details.status){var a=e.save_schema_my_property_purchase_details.error.errors;window.scrollTo(0,0),this.setState({isError:!0,errorCode:function(e){return e.map((function(e){return n()("div",{style:{display:"block"}},void 0,e.field," ",e.code)}))}(a)})}}},{key:"onSchemaChange",value:function onSchemaChange(e,a){this.setState({changeObject:e,hasErrors:a}),this.refs.schemaPurchaseDetails&&this.refs.schemaPurchaseDetails.rebuild()}},{key:"saveSchema",value:function saveSchema(){var e=!0;this.refs.schemaPurchaseDetails.checkSubmissionValid()||(e=!1),e&&this.props.dispatch(Object(R.q)({method:"post",endpoint:"savemypropertypurchasedetails",actionType:"RESPONSE_SAVE_SCHEMA_MY_PROPERTY_PURCHASE_DETAILS",dataPayload:T.a.transformPathsToObject(b()({},this.state.initialValues,this.state.modifiedValues))}))}},{key:"renderSchema",value:function renderSchema(){var e=this,a=this.context,t=a.i18n,i=a.country,n=this.state,r=n.schemas,s=n.referenceData;return r.map((function(a,n){return y.a.createElement(E.a,{l:t.l,country:i,ref:"schemaPurchaseDetails",data:a,writeMode:!0,updateonPropsChange:!0,onChange:e.onSchemaChange,modifiedValues:e.state.modifiedValues,initialValues:e.state.initialValues,referenceData:s})}))}},{key:"render",value:function render(){var e=this.context.i18n.l,a=this.state,t=(a.value,a.isFetching),i=a.schemas,r=a.isSaving,s=a.isError,o=a.errorCode,c=a.propertyName,l=this.props.stepConfig;return console.log(o),n()("div",{className:"purchase-details-step wizard__step-container"},void 0,n()(w.a,{name:c,l:e}),n()("div",{className:"wizard__step-container__content-wrap"},void 0,r&&q,s&&n()(O.a,{l:e,errorCode:""},void 0,n()("div",{},void 0,o)),n()("h3",{className:"wizard__question"},void 0,l.question),t||!i?A:this.renderSchema()),n()(S.a,{nextText:e("NEXT"),navigatingSaveExitText:"SAVEANDEXIT",backText:e("PREVIOUS"),className:"linear-navigation--light-theme",isSaveExitRequired:!1,isNavigatingSaveExitRequired:!0,onNavigateSaveExit:this.onNavigateSaveExitClick,onBack:this.onBackClick,onNext:this.onNextClick}))}},{key:"onProceedToNextStep",value:function onProceedToNextStep(){this.props.navigateNext({step:"income-expense",query:{id:this.props.location.query.id}})}},{key:"onExit",value:function onExit(){this.props.onNavigateEnd()}},{key:"onNavigateSaveExitClick",value:function onNavigateSaveExitClick(){this.nextStep="onExit",this.saveSchema()}},{key:"onNextClick",value:function onNextClick(){this.nextStep="onProceedToNextStep",this.saveSchema()}},{key:"onBackClick",value:function onBackClick(){this.props.navigatePrevious({step:"details",query:{id:this.props.location.query.id}})}}]),PurchaseDetails}(_.Component);j.contextTypes={router:x.a.object,i18n:x.a.object,country:x.a.string,screenSize:x.a.number};a.default=Object(N.connect)((function mapStateToProps(e){var a=e.schema;return{get_schema_my_property_purchase_details:a.get_schema_my_property_purchase_details,save_schema_my_property_purchase_details:a.save_schema_my_property_purchase_details}}))(Object(C.a)(j,[R.q],!0,{method:"get",endpoint:"getmypropertypurchasedetails",actionType:"RESPONSE_GET_SCHEMA_MY_PROPERTY_PURCHASE_DETAILS",isGenerateDataPayload:!0,dataPayloadLookup:[{key:"mypropertyid",lookup:"query.id"}]}))},qbnB:function(e,a,t){var i=t("juv8"),n=t("LsHQ"),r=t("mTTR"),s=n((function(e,a){i(a,r(a),e)}));e.exports=s},zbfZ:function(e,a,t){"use strict";var i=t("gcR/"),n=t.n(i),r=(t("q1tI"),t("TSYQ")),s=t.n(r);a.a=function ErrorBox(e){var a=e.errorCode,t=e.l,i=e.classNames,r=e.children,o=void 0===r?null:r;return n()("div",{className:s()("error-box",i)},void 0,t(a),o)}},zdiy:function(e,a,t){e.exports=t("qbnB")}}]);